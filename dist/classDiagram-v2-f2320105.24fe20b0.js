!function(e,t,l,a,i){var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s="function"==typeof n[a]&&n[a],o=s.cache||{},r="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function d(t,l){if(!o[t]){if(!e[t]){var i="function"==typeof n[a]&&n[a];if(!l&&i)return i(t,!0);if(s)return s(t,!0);if(r&&"string"==typeof t)return r(t);var c=Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}u.resolve=function(l){var a=e[t][1][l];return null!=a?a:l},u.cache={};var f=o[t]=new d.Module(t);e[t][0].call(f.exports,u,f,f.exports,n)}return o[t].exports;function u(e){var t=u.resolve(e);return!1===t?{}:d(t)}}d.isParcelRequire=!0,d.Module=function(e){this.id=e,this.bundle=d,this.exports={}},d.modules=e,d.cache=o,d.parent=s,d.register=function(t,l){e[t]=[function(e,t){t.exports=l},{}]},Object.defineProperty(d,"root",{get:function(){return n[a]}}),n[a]=d;for(var c=0;c<t.length;c++)d(t[c])}({fFBiN:[function(e,t,l,a){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(l),i.export(l,"diagram",()=>m);var n=e("./styles-9a916d00.js"),s=e("d3"),o=e("dagre-d3-es/src/graphlib/index.js"),r=e("./mermaid-b5860b54.js"),d=e("./index-3862675e.js");e("ts-dedent"),e("dayjs"),e("@braintree/sanitize-url"),e("dompurify"),e("khroma"),e("lodash-es/memoize.js"),e("lodash-es/merge.js"),e("stylis"),e("lodash-es/isEmpty.js"),e("dagre-d3-es/src/dagre/index.js"),e("dagre-d3-es/src/graphlib/json.js"),e("./edges-e0da2a9e.js"),e("./createText-2e5e7dd3.js"),e("mdast-util-from-markdown");let c=e=>(0,r.e).sanitizeText(e,(0,r.c)()),f={dividerMargin:10,padding:5,textHeight:10,curve:void 0},u=function(e,t,l,a){let i=Object.keys(e);(0,r.l).info("keys:",i),(0,r.l).info(e),i.forEach(function(i){var n,s;let o=e[i],d={shape:"rect",id:o.id,domId:o.domId,labelText:c(o.id),labelStyle:"",style:"fill: none; stroke: black",padding:(null==(n=(0,r.c)().flowchart)?void 0:n.padding)??(null==(s=(0,r.c)().class)?void 0:s.padding)};t.setNode(o.id,d),p(o.classes,t,l,a,o.id),(0,r.l).info("setNode",d)})},p=function(e,t,l,a,i){let n=Object.keys(e);(0,r.l).info("keys:",n),(0,r.l).info(e),n.filter(t=>e[t].parent==i).forEach(function(l){var n,s;let o=e[l],d=o.cssClasses.join(" "),f=(0,r.k)(o.styles),u=o.label??o.id,p={labelStyle:f.labelStyle,shape:"class_box",labelText:c(u),classData:o,rx:0,ry:0,class:d,style:f.style,id:o.id,domId:o.domId,tooltip:a.db.getTooltip(o.id,i)||"",haveCallback:o.haveCallback,link:o.link,width:"group"===o.type?500:void 0,type:o.type,padding:(null==(n=(0,r.c)().flowchart)?void 0:n.padding)??(null==(s=(0,r.c)().class)?void 0:s.padding)};t.setNode(o.id,p),i&&t.setParent(o.id,i),(0,r.l).info("setNode",p)})},g=function(e,t,l,a){(0,r.l).info(e),e.forEach(function(e,i){var n,o;let d={labelStyle:"",shape:"note",labelText:c(e.text),noteData:e,rx:0,ry:0,class:"",style:"",id:e.id,domId:e.id,tooltip:"",type:"note",padding:(null==(n=(0,r.c)().flowchart)?void 0:n.padding)??(null==(o=(0,r.c)().class)?void 0:o.padding)};if(t.setNode(e.id,d),(0,r.l).info("setNode",d),!e.class||!(e.class in a))return;let u=l+i,p={id:`edgeNote${u}`,classes:"relation",pattern:"dotted",arrowhead:"none",startLabelRight:"",endLabelLeft:"",arrowTypeStart:"none",arrowTypeEnd:"none",style:"fill:none",labelStyle:"",curve:(0,r.n)(f.curve,s.curveLinear)};t.setEdge(e.id,e.class,p,u)})},b=function(e,t){let l=(0,r.c)().flowchart,a=0;e.forEach(function(e){var i;a++;let n={classes:"relation",pattern:1==e.relation.lineType?"dashed":"solid",id:`id_${e.id1}_${e.id2}_${a}`,arrowhead:"arrow_open"===e.type?"none":"normal",startLabelRight:"none"===e.relationTitle1?"":e.relationTitle1,endLabelLeft:"none"===e.relationTitle2?"":e.relationTitle2,arrowTypeStart:h(e.relation.type1),arrowTypeEnd:h(e.relation.type2),style:"fill:none",labelStyle:"",curve:(0,r.n)(null==l?void 0:l.curve,s.curveLinear)};if((0,r.l).info(n,e),void 0!==e.style){let t=(0,r.k)(e.style);n.style=t.style,n.labelStyle=t.labelStyle}e.text=e.title,void 0===e.text?void 0!==e.style&&(n.arrowheadStyle="fill: #333"):(n.arrowheadStyle="fill: #333",n.labelpos="c",(null==(i=(0,r.c)().flowchart)?void 0:i.htmlLabels)??(0,r.c)().htmlLabels?(n.labelType="html",n.label='<span class="edgeLabel">'+e.text+"</span>"):(n.labelType="text",n.label=e.text.replace(r.e.lineBreakRegex,"\n"),void 0===e.style&&(n.style=n.style||"stroke: #333; stroke-width: 1.5px;fill:none"),n.labelStyle=n.labelStyle.replace("color:","fill:"))),t.setEdge(e.id1,e.id2,n,a)})},y=async function(e,t,l,a){let i;(0,r.l).info("Drawing class - ",t);let n=(0,r.c)().flowchart??(0,r.c)().class,c=(0,r.c)().securityLevel;(0,r.l).info("config:",n);let f=(null==n?void 0:n.nodeSpacing)??50,y=(null==n?void 0:n.rankSpacing)??50,h=new o.Graph({multigraph:!0,compound:!0}).setGraph({rankdir:a.db.getDirection(),nodesep:f,ranksep:y,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),m=a.db.getNamespaces(),v=a.db.getClasses(),x=a.db.getRelations(),w=a.db.getNotes();(0,r.l).info(x),u(m,h,t,a),p(v,h,t,a),b(x,h),g(w,h,x.length+1,v),"sandbox"===c&&(i=(0,s.select)("#i"+t));let j="sandbox"===c?(0,s.select)(i.nodes()[0].contentDocument.body):(0,s.select)("body"),k=j.select(`[id="${t}"]`),T=j.select("#"+t+" g");if(await (0,d.r)(T,h,["aggregation","extension","composition","dependency","lollipop"],"classDiagram",t),(0,r.u).insertTitle(k,"classTitleText",(null==n?void 0:n.titleTopMargin)??5,a.db.getDiagramTitle()),(0,r.o)(h,k,null==n?void 0:n.diagramPadding,null==n?void 0:n.useMaxWidth),!(null==n?void 0:n.htmlLabels)){let e="sandbox"===c?i.nodes()[0].contentDocument:document;for(let l of e.querySelectorAll('[id="'+t+'"] .edgeLabel .label')){let t=l.getBBox(),a=e.createElementNS("http://www.w3.org/2000/svg","rect");a.setAttribute("rx",0),a.setAttribute("ry",0),a.setAttribute("width",t.width),a.setAttribute("height",t.height),l.insertBefore(a,l.firstChild)}}};function h(e){let t;switch(e){case 0:t="aggregation";break;case 1:t="extension";break;case 2:t="composition";break;case 3:t="dependency";break;case 4:t="lollipop";break;default:t="none"}return t}let m={parser:n.p,db:n.d,renderer:{setConf:function(e){f={...f,...e}},draw:y},styles:n.s,init:e=>{e.class||(e.class={}),e.class.arrowMarkerAbsolute=e.arrowMarkerAbsolute,(0,n.d).clear()}}},{"./styles-9a916d00.js":"3zEjJ",d3:"ahWNw","dagre-d3-es/src/graphlib/index.js":"j6NXy","./mermaid-b5860b54.js":"2omMO","./index-3862675e.js":"8RdUO","ts-dedent":"azOLv",dayjs:"8F3kd","@braintree/sanitize-url":"eIPUt",dompurify:"5cPaM",khroma:"kb6Zw","lodash-es/memoize.js":"kSZfU","lodash-es/merge.js":"ije1P",stylis:"lfeQC","lodash-es/isEmpty.js":"941eg","dagre-d3-es/src/dagre/index.js":"9xp7T","dagre-d3-es/src/graphlib/json.js":"5pdrN","./edges-e0da2a9e.js":"3cEzO","./createText-2e5e7dd3.js":"3A2vP","mdast-util-from-markdown":"i9FLz","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}]},[],0,"parcelRequire94c2");
//# sourceMappingURL=classDiagram-v2-f2320105.24fe20b0.js.map
