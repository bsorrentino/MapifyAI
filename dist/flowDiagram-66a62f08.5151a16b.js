!function(e,r,n,o,t){var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a="function"==typeof s[o]&&s[o],i=a.cache||{},d="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function c(r,n){if(!i[r]){if(!e[r]){var t="function"==typeof s[o]&&s[o];if(!n&&t)return t(r,!0);if(a)return a(r,!0);if(d&&"string"==typeof r)return d(r);var u=Error("Cannot find module '"+r+"'");throw u.code="MODULE_NOT_FOUND",u}f.resolve=function(n){var o=e[r][1][n];return null!=o?o:n},f.cache={};var h=i[r]=new c.Module(r);e[r][0].call(h.exports,f,h,h.exports,s)}return i[r].exports;function f(e){var r=f.resolve(e);return!1===r?{}:c(r)}}c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=e,c.cache=i,c.parent=a,c.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]},Object.defineProperty(c,"root",{get:function(){return s[o]}}),s[o]=c;for(var u=0;u<r.length;u++)c(r[u])}({"9xp7T":[function(e,r,n,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(n),t.export(n,"acyclic",()=>s),t.export(n,"normalize",()=>i),t.export(n,"rank",()=>d.rank),t.export(n,"layout",()=>a.layout);var s=e("./acyclic.js"),a=e("./layout.js"),i=e("./normalize.js"),d=e("./rank/index.js")},{"./acyclic.js":"65tNo","./layout.js":"dQEd2","./normalize.js":"jEd9R","./rank/index.js":"7Hj7F","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"65tNo":[function(e,r,n,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(n),t.export(n,"run",()=>i),t.export(n,"undo",()=>d);var s=e("lodash-es"),a=e("./greedy-fas.js");function i(e){var r,n,o,t="greedy"===e.graph().acyclicer?(0,a.greedyFAS)(e,function(r){return e.edge(r).weight}):(r=[],n={},o={},s.forEach(e.nodes(),function t(a){s.has(o,a)||(o[a]=!0,n[a]=!0,s.forEach(e.outEdges(a),function(e){s.has(n,e.w)?r.push(e):t(e.w)}),delete n[a])}),r);s.forEach(t,function(r){var n=e.edge(r);e.removeEdge(r),n.forwardName=r.name,n.reversed=!0,e.setEdge(r.w,r.v,n,s.uniqueId("rev"))})}function d(e){s.forEach(e.edges(),function(r){var n=e.edge(r);if(n.reversed){e.removeEdge(r);var o=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(r.w,r.v,n,o)}})}},{"lodash-es":"h4a9d","./greedy-fas.js":"4BAH6","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"4BAH6":[function(e,r,n,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(n),t.export(n,"greedyFAS",()=>c);var s=e("lodash-es"),a=e("../graphlib/index.js"),i=e("./data/list.js"),d=s.constant(1);function c(e,r){if(1>=e.nodeCount())return[];var n,o,t,c,f,l,p=(n=r||d,o=new a.Graph,t=0,c=0,s.forEach(e.nodes(),function(e){o.setNode(e,{v:e,in:0,out:0})}),s.forEach(e.edges(),function(e){var r=o.edge(e.v,e.w)||0,s=n(e);o.setEdge(e.v,e.w,r+s),c=Math.max(c,o.node(e.v).out+=s),t=Math.max(t,o.node(e.w).in+=s)}),f=s.range(c+t+3).map(function(){return new i.List}),l=t+1,s.forEach(o.nodes(),function(e){h(f,l,o.node(e))}),{graph:o,buckets:f,zeroIdx:l}),g=function(e,r,n){for(var o,t=[],s=r[r.length-1],a=r[0];e.nodeCount();){for(;o=a.dequeue();)u(e,r,n,o);for(;o=s.dequeue();)u(e,r,n,o);if(e.nodeCount()){for(var i=r.length-2;i>0;--i)if(o=r[i].dequeue()){t=t.concat(u(e,r,n,o,!0));break}}}return t}(p.graph,p.buckets,p.zeroIdx);return s.flatten(s.map(g,function(r){return e.outEdges(r.v,r.w)}))}function u(e,r,n,o,t){var a=t?[]:void 0;return s.forEach(e.inEdges(o.v),function(o){var s=e.edge(o),i=e.node(o.v);t&&a.push({v:o.v,w:o.w}),i.out-=s,h(r,n,i)}),s.forEach(e.outEdges(o.v),function(o){var t=e.edge(o),s=o.w,a=e.node(s);a.in-=t,h(r,n,a)}),e.removeNode(o.v),a}function h(e,r,n){n.out?n.in?e[n.out-n.in+r].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}},{"lodash-es":"h4a9d","../graphlib/index.js":"j6NXy","./data/list.js":"5qavm","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"5qavm":[function(e,r,n,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(n),t.export(n,"List",()=>s);class s{constructor(){var e={};e._next=e._prev=e,this._sentinel=e}dequeue(){var e=this._sentinel,r=e._prev;if(r!==e)return a(r),r}enqueue(e){var r=this._sentinel;e._prev&&e._next&&a(e),e._next=r._next,r._next._prev=e,r._next=e,e._prev=r}toString(){for(var e=[],r=this._sentinel,n=r._prev;n!==r;)e.push(JSON.stringify(n,i)),n=n._prev;return"["+e.join(", ")+"]"}}function a(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function i(e,r){if("_next"!==e&&"_prev"!==e)return r}},{"@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],dQEd2:[function(e,r,n,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(n),t.export(n,"layout",()=>v);var s=e("lodash-es"),a=e("../graphlib/index.js"),i=e("./add-border-segments.js"),d=e("./coordinate-system.js"),c=e("./acyclic.js"),u=e("./normalize.js"),h=e("./rank/index.js"),f=e("./nesting-graph.js"),l=e("./order/index.js"),p=e("./parent-dummy-chains.js"),g=e("./position/index.js"),m=e("./util.js");function v(e,r){var n=r&&r.debugTiming?m.time:m.notime;n("layout",function(){var r=n("  buildLayoutGraph",function(){var r,n;return r=new a.Graph({multigraph:!0,compound:!0}),n=_(e.graph()),r.setGraph(s.merge({},y,N(n,j),s.pick(n,E))),s.forEach(e.nodes(),function(n){var o=_(e.node(n));r.setNode(n,s.defaults(N(o,w),x)),r.setParent(n,e.parent(n))}),s.forEach(e.edges(),function(n){var o=_(e.edge(n));r.setEdge(n,s.merge({},k,N(o,b),s.pick(o,I)))}),r});n("  runLayout",function(){n("    makeSpaceForEdgeLabels",function(){var e;e=r.graph(),e.ranksep/=2,s.forEach(r.edges(),function(n){var o=r.edge(n);o.minlen*=2,"c"!==o.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?o.width+=o.labeloffset:o.height+=o.labeloffset)})}),n("    removeSelfEdges",function(){s.forEach(r.edges(),function(e){if(e.v===e.w){var n=r.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:e,label:r.edge(e)}),r.removeEdge(e)}})}),n("    acyclic",function(){c.run(r)}),n("    nestingGraph.run",function(){f.run(r)}),n("    rank",function(){(0,h.rank)(m.asNonCompoundGraph(r))}),n("    injectEdgeLabelProxies",function(){s.forEach(r.edges(),function(e){var n=r.edge(e);if(n.width&&n.height){var o=r.node(e.v),t={rank:(r.node(e.w).rank-o.rank)/2+o.rank,e:e};m.addDummyNode(r,"edge-proxy",t,"_ep")}})}),n("    removeEmptyRanks",function(){m.removeEmptyRanks(r)}),n("    nestingGraph.cleanup",function(){f.cleanup(r)}),n("    normalizeRanks",function(){m.normalizeRanks(r)}),n("    assignRankMinMax",function(){var e;e=0,s.forEach(r.nodes(),function(n){var o=r.node(n);o.borderTop&&(o.minRank=r.node(o.borderTop).rank,o.maxRank=r.node(o.borderBottom).rank,e=s.max(e,o.maxRank))}),r.graph().maxRank=e}),n("    removeEdgeLabelProxies",function(){s.forEach(r.nodes(),function(e){var n=r.node(e);"edge-proxy"===n.dummy&&(r.edge(n.e).labelRank=n.rank,r.removeNode(e))})}),n("    normalize.run",function(){u.run(r)}),n("    parentDummyChains",function(){(0,p.parentDummyChains)(r)}),n("    addBorderSegments",function(){(0,i.addBorderSegments)(r)}),n("    order",function(){(0,l.order)(r)}),n("    insertSelfEdges",function(){var e;e=m.buildLayerMatrix(r),s.forEach(e,function(e){var n=0;s.forEach(e,function(e,o){var t=r.node(e);t.order=o+n,s.forEach(t.selfEdges,function(e){m.addDummyNode(r,"selfedge",{width:e.label.width,height:e.label.height,rank:t.rank,order:o+ ++n,e:e.e,label:e.label},"_se")}),delete t.selfEdges})})}),n("    adjustCoordinateSystem",function(){d.adjust(r)}),n("    position",function(){(0,g.position)(r)}),n("    positionSelfEdges",function(){s.forEach(r.nodes(),function(e){var n=r.node(e);if("selfedge"===n.dummy){var o=r.node(n.e.v),t=o.x+o.width/2,s=o.y,a=n.x-t,i=o.height/2;r.setEdge(n.e,n.label),r.removeNode(e),n.label.points=[{x:t+2*a/3,y:s-i},{x:t+5*a/6,y:s-i},{x:t+a,y:s},{x:t+5*a/6,y:s+i},{x:t+2*a/3,y:s+i}],n.label.x=n.x,n.label.y=n.y}})}),n("    removeBorderNodes",function(){s.forEach(r.nodes(),function(e){if(r.children(e).length){var n=r.node(e),o=r.node(n.borderTop),t=r.node(n.borderBottom),a=r.node(s.last(n.borderLeft)),i=r.node(s.last(n.borderRight));n.width=Math.abs(i.x-a.x),n.height=Math.abs(t.y-o.y),n.x=a.x+n.width/2,n.y=o.y+n.height/2}}),s.forEach(r.nodes(),function(e){"border"===r.node(e).dummy&&r.removeNode(e)})}),n("    normalize.undo",function(){u.undo(r)}),n("    fixupEdgeLabelCoords",function(){s.forEach(r.edges(),function(e){var n=r.edge(e);if(s.has(n,"x"))switch(("l"===n.labelpos||"r"===n.labelpos)&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}})}),n("    undoCoordinateSystem",function(){d.undo(r)}),n("    translateGraph",function(){(function(e){var r=Number.POSITIVE_INFINITY,n=0,o=Number.POSITIVE_INFINITY,t=0,a=e.graph(),i=a.marginx||0,d=a.marginy||0;function c(e){var s=e.x,a=e.y,i=e.width,d=e.height;r=Math.min(r,s-i/2),n=Math.max(n,s+i/2),o=Math.min(o,a-d/2),t=Math.max(t,a+d/2)}s.forEach(e.nodes(),function(r){c(e.node(r))}),s.forEach(e.edges(),function(r){var n=e.edge(r);s.has(n,"x")&&c(n)}),r-=i,o-=d,s.forEach(e.nodes(),function(n){var t=e.node(n);t.x-=r,t.y-=o}),s.forEach(e.edges(),function(n){var t=e.edge(n);s.forEach(t.points,function(e){e.x-=r,e.y-=o}),s.has(t,"x")&&(t.x-=r),s.has(t,"y")&&(t.y-=o)}),a.width=n-r+i,a.height=t-o+d})(r)}),n("    assignNodeIntersects",function(){s.forEach(r.edges(),function(e){var n,o,t=r.edge(e),s=r.node(e.v),a=r.node(e.w);t.points?(n=t.points[0],o=t.points[t.points.length-1]):(t.points=[],n=a,o=s),t.points.unshift(m.intersectRect(s,n)),t.points.push(m.intersectRect(a,o))})}),n("    reversePoints",function(){s.forEach(r.edges(),function(e){var n=r.edge(e);n.reversed&&n.points.reverse()})}),n("    acyclic.undo",function(){c.undo(r)})}),n("  updateInputGraph",function(){s.forEach(e.nodes(),function(n){var o=e.node(n),t=r.node(n);o&&(o.x=t.x,o.y=t.y,r.children(n).length&&(o.width=t.width,o.height=t.height))}),s.forEach(e.edges(),function(n){var o=e.edge(n),t=r.edge(n);o.points=t.points,s.has(t,"x")&&(o.x=t.x,o.y=t.y)}),e.graph().width=r.graph().width,e.graph().height=r.graph().height})})}var j=["nodesep","edgesep","ranksep","marginx","marginy"],y={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},E=["acyclicer","ranker","rankdir","align"],w=["width","height"],x={width:0,height:0},b=["minlen","weight","width","height","labeloffset"],k={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},I=["labelpos"];function N(e,r){return s.mapValues(s.pick(e,r),Number)}function _(e){var r={};return s.forEach(e,function(e,n){r[n.toLowerCase()]=e}),r}},{"lodash-es":"h4a9d","../graphlib/index.js":"j6NXy","./add-border-segments.js":"bWCM7","./coordinate-system.js":"gOcH8","./acyclic.js":"65tNo","./normalize.js":"jEd9R","./rank/index.js":"7Hj7F","./nesting-graph.js":"cCWnA","./order/index.js":"bIgS9","./parent-dummy-chains.js":"6Jejx","./position/index.js":"lUl3t","./util.js":"h7o6h","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],bWCM7:[function(e,r,n,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(n),t.export(n,"addBorderSegments",()=>i);var s=e("lodash-es"),a=e("./util.js");function i(e){s.forEach(e.children(),function r(n){var o=e.children(n),t=e.node(n);if(o.length&&s.forEach(o,r),s.has(t,"minRank")){t.borderLeft=[],t.borderRight=[];for(var a=t.minRank,i=t.maxRank+1;a<i;++a)d(e,"borderLeft","_bl",n,t,a),d(e,"borderRight","_br",n,t,a)}})}function d(e,r,n,o,t,s){var i=t[r][s-1],d=a.addDummyNode(e,"border",{width:0,height:0,rank:s,borderType:r},n);t[r][s]=d,e.setParent(d,o),i&&e.setEdge(i,d,{weight:1})}},{"lodash-es":"h4a9d","./util.js":"h7o6h","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],h7o6h:[function(e,r,n,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(n),t.export(n,"addDummyNode",()=>i),t.export(n,"simplify",()=>d),t.export(n,"asNonCompoundGraph",()=>c),t.export(n,"successorWeights",()=>u),t.export(n,"predecessorWeights",()=>h),t.export(n,"intersectRect",()=>f),t.export(n,"buildLayerMatrix",()=>l),t.export(n,"normalizeRanks",()=>p),t.export(n,"removeEmptyRanks",()=>g),t.export(n,"addBorderNode",()=>m),t.export(n,"maxRank",()=>v),t.export(n,"partition",()=>j),t.export(n,"time",()=>y),t.export(n,"notime",()=>E);var s=e("lodash-es"),a=e("../graphlib/index.js");function i(e,r,n,o){var t;do t=s.uniqueId(o);while(e.hasNode(t))return n.dummy=r,e.setNode(t,n),t}function d(e){var r=new(0,a.Graph)().setGraph(e.graph());return s.forEach(e.nodes(),function(n){r.setNode(n,e.node(n))}),s.forEach(e.edges(),function(n){var o=r.edge(n.v,n.w)||{weight:0,minlen:1},t=e.edge(n);r.setEdge(n.v,n.w,{weight:o.weight+t.weight,minlen:Math.max(o.minlen,t.minlen)})}),r}function c(e){var r=new(0,a.Graph)({multigraph:e.isMultigraph()}).setGraph(e.graph());return s.forEach(e.nodes(),function(n){e.children(n).length||r.setNode(n,e.node(n))}),s.forEach(e.edges(),function(n){r.setEdge(n,e.edge(n))}),r}function u(e){var r=s.map(e.nodes(),function(r){var n={};return s.forEach(e.outEdges(r),function(r){n[r.w]=(n[r.w]||0)+e.edge(r).weight}),n});return s.zipObject(e.nodes(),r)}function h(e){var r=s.map(e.nodes(),function(r){var n={};return s.forEach(e.inEdges(r),function(r){n[r.v]=(n[r.v]||0)+e.edge(r).weight}),n});return s.zipObject(e.nodes(),r)}function f(e,r){var n,o,t=e.x,s=e.y,a=r.x-t,i=r.y-s,d=e.width/2,c=e.height/2;if(!a&&!i)throw Error("Not possible to find intersection inside of the rectangle");return Math.abs(i)*d>Math.abs(a)*c?(i<0&&(c=-c),n=c*a/i,o=c):(a<0&&(d=-d),n=d,o=d*i/a),{x:t+n,y:s+o}}function l(e){var r=s.map(s.range(v(e)+1),function(){return[]});return s.forEach(e.nodes(),function(n){var o=e.node(n),t=o.rank;s.isUndefined(t)||(r[t][o.order]=n)}),r}function p(e){var r=s.min(s.map(e.nodes(),function(r){return e.node(r).rank}));s.forEach(e.nodes(),function(n){var o=e.node(n);s.has(o,"rank")&&(o.rank-=r)})}function g(e){var r=s.min(s.map(e.nodes(),function(r){return e.node(r).rank})),n=[];s.forEach(e.nodes(),function(o){var t=e.node(o).rank-r;n[t]||(n[t]=[]),n[t].push(o)});var o=0,t=e.graph().nodeRankFactor;s.forEach(n,function(r,n){s.isUndefined(r)&&n%t!=0?--o:o&&s.forEach(r,function(r){e.node(r).rank+=o})})}function m(e,r,n,o){var t={width:0,height:0};return arguments.length>=4&&(t.rank=n,t.order=o),i(e,"border",t,r)}function v(e){return s.max(s.map(e.nodes(),function(r){var n=e.node(r).rank;if(!s.isUndefined(n))return n}))}function j(e,r){var n={lhs:[],rhs:[]};return s.forEach(e,function(e){r(e)?n.lhs.push(e):n.rhs.push(e)}),n}function y(e,r){var n=s.now();try{return r()}finally{console.log(e+" time: "+(s.now()-n)+"ms")}}function E(e,r){return r()}},{"lodash-es":"h4a9d","../graphlib/index.js":"j6NXy","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],gOcH8:[function(e,r,n,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(n),t.export(n,"adjust",()=>a),t.export(n,"undo",()=>i);var s=e("lodash-es");function a(e){var r=e.graph().rankdir.toLowerCase();("lr"===r||"rl"===r)&&d(e)}function i(e){var r=e.graph().rankdir.toLowerCase();("bt"===r||"rl"===r)&&(s.forEach(e.nodes(),function(r){u(e.node(r))}),s.forEach(e.edges(),function(r){var n=e.edge(r);s.forEach(n.points,u),s.has(n,"y")&&u(n)})),("lr"===r||"rl"===r)&&(s.forEach(e.nodes(),function(r){h(e.node(r))}),s.forEach(e.edges(),function(r){var n=e.edge(r);s.forEach(n.points,h),s.has(n,"x")&&h(n)}),d(e))}function d(e){s.forEach(e.nodes(),function(r){c(e.node(r))}),s.forEach(e.edges(),function(r){c(e.edge(r))})}function c(e){var r=e.width;e.width=e.height,e.height=r}function u(e){e.y=-e.y}function h(e){var r=e.x;e.x=e.y,e.y=r}},{"lodash-es":"h4a9d","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],jEd9R:[function(e,r,n,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(n),t.export(n,"run",()=>i),t.export(n,"undo",()=>d);var s=e("lodash-es"),a=e("./util.js");function i(e){e.graph().dummyChains=[],s.forEach(e.edges(),function(r){(function(e,r){var n,o,t,s=r.v,i=e.node(s).rank,d=r.w,c=e.node(d).rank,u=r.name,h=e.edge(r),f=h.labelRank;if(c!==i+1){for(e.removeEdge(r),t=0,++i;i<c;++t,++i)h.points=[],o={width:0,height:0,edgeLabel:h,edgeObj:r,rank:i},n=a.addDummyNode(e,"edge",o,"_d"),i===f&&(o.width=h.width,o.height=h.height,o.dummy="edge-label",o.labelpos=h.labelpos),e.setEdge(s,n,{weight:h.weight},u),0===t&&e.graph().dummyChains.push(n),s=n;e.setEdge(s,d,{weight:h.weight},u)}})(e,r)})}function d(e){s.forEach(e.graph().dummyChains,function(r){var n,o=e.node(r),t=o.edgeLabel;for(e.setEdge(o.edgeObj,t);o.dummy;)n=e.successors(r)[0],e.removeNode(r),t.points.push({x:o.x,y:o.y}),"edge-label"===o.dummy&&(t.x=o.x,t.y=o.y,t.width=o.width,t.height=o.height),r=n,o=e.node(r)})}},{"lodash-es":"h4a9d","./util.js":"h7o6h","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"7Hj7F":[function(e,r,n,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(n),t.export(n,"rank",()=>d);var s=e("./feasible-tree.js"),a=e("./network-simplex.js"),i=e("./util.js");function d(e){switch(e.graph().ranker){case"network-simplex":default:var r;r=e,(0,a.networkSimplex)(r);break;case"tight-tree":(0,i.longestPath)(e),(0,s.feasibleTree)(e);break;case"longest-path":c(e)}}var c=i.longestPath},{"./feasible-tree.js":"eFW3K","./network-simplex.js":"eE4Ic","./util.js":"j4kYr","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],eFW3K:[function(e,r,n,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(n),t.export(n,"feasibleTree",()=>d);var s=e("lodash-es"),a=e("../../graphlib/index.js"),i=e("./util.js");function d(e){var r,n,o=new a.Graph({directed:!1}),t=e.nodes()[0],d=e.nodeCount();for(o.setNode(t,{});s.forEach(o.nodes(),function r(n){s.forEach(e.nodeEdges(n),function(t){var s=t.v,a=n===s?t.w:s;o.hasNode(a)||(0,i.slack)(e,t)||(o.setNode(a,{}),o.setEdge(n,a,{}),r(a))})}),o.nodeCount()<d;)r=function(e,r){return s.minBy(r.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return(0,i.slack)(r,n)})}(o,e),n=o.hasNode(r.v)?(0,i.slack)(e,r):-(0,i.slack)(e,r),function(e,r,n){s.forEach(e.nodes(),function(e){r.node(e).rank+=n})}(o,e,n);return o}},{"lodash-es":"h4a9d","../../graphlib/index.js":"j6NXy","./util.js":"j4kYr","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],j4kYr:[function(e,r,n,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(n),t.export(n,"longestPath",()=>a),t.export(n,"slack",()=>i);var s=e("lodash-es");function a(e){var r={};s.forEach(e.sources(),function n(o){var t=e.node(o);if(s.has(r,o))return t.rank;r[o]=!0;var a=s.min(s.map(e.outEdges(o),function(r){return n(r.w)-e.edge(r).minlen}));return(a===Number.POSITIVE_INFINITY||null==a)&&(a=0),t.rank=a})}function i(e,r){return e.node(r.w).rank-e.node(r.v).rank-e.edge(r).minlen}},{"lodash-es":"h4a9d","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],eE4Ic:[function(e,r,n,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(n),t.export(n,"networkSimplex",()=>u);var s=e("lodash-es"),a=e("../../graphlib/alg/index.js"),i=e("../util.js"),d=e("./feasible-tree.js"),c=e("./util.js");function u(e){e=(0,i.simplify)(e),(0,c.longestPath)(e);var r,n,o=(0,d.feasibleTree)(e);for(l(o),h(o,e);r=p(o);)n=g(o,e,r),m(o,e,r,n)}function h(e,r){var n=a.postorder(e,e.nodes());n=n.slice(0,n.length-1),s.forEach(n,function(n){var o;o=e.node(n).parent,e.edge(n,o).cutvalue=f(e,r,n)})}function f(e,r,n){var o=e.node(n).parent,t=!0,a=r.edge(n,o),i=0;return a||(t=!1,a=r.edge(o,n)),i=a.weight,s.forEach(r.nodeEdges(n),function(s){var a=s.v===n,d=a?s.w:s.v;if(d!==o){var c=a===t,u=r.edge(s).weight;if(i+=c?u:-u,e.hasEdge(n,d)){var h=e.edge(n,d).cutvalue;i+=c?-h:h}}}),i}function l(e,r){arguments.length<2&&(r=e.nodes()[0]),function e(r,n,o,t,a){var i=o,d=r.node(t);return n[t]=!0,s.forEach(r.neighbors(t),function(a){s.has(n,a)||(o=e(r,n,o,a,t))}),d.low=i,d.lim=o++,a?d.parent=a:delete d.parent,o}(e,{},1,r)}function p(e){return s.find(e.edges(),function(r){return e.edge(r).cutvalue<0})}function g(e,r,n){var o=n.v,t=n.w;r.hasEdge(o,t)||(o=n.w,t=n.v);var a=e.node(o),i=e.node(t),d=a,u=!1;a.lim>i.lim&&(d=i,u=!0);var h=s.filter(r.edges(),function(r){return u===v(e,e.node(r.v),d)&&u!==v(e,e.node(r.w),d)});return s.minBy(h,function(e){return(0,c.slack)(r,e)})}function m(e,r,n,o){var t,i,d=n.v,c=n.w;e.removeEdge(d,c),e.setEdge(o.v,o.w,{}),l(e),h(e,r),t=s.find(e.nodes(),function(e){return!r.node(e).parent}),i=(i=a.preorder(e,t)).slice(1),s.forEach(i,function(n){var o=e.node(n).parent,t=r.edge(n,o),s=!1;t||(t=r.edge(o,n),s=!0),r.node(n).rank=r.node(o).rank+(s?t.minlen:-t.minlen)})}function v(e,r,n){return n.low<=r.lim&&r.lim<=n.lim}u.initLowLimValues=l,u.initCutValues=h,u.calcCutValue=f,u.leaveEdge=p,u.enterEdge=g,u.exchangeEdges=m},{"lodash-es":"h4a9d","../../graphlib/alg/index.js":"aHzdt","../util.js":"h7o6h","./feasible-tree.js":"eFW3K","./util.js":"j4kYr","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],aHzdt:[function(e,r,n,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(n),t.export(n,"components",()=>s.components),t.export(n,"dijkstra",()=>a.dijkstra),t.export(n,"dijkstraAll",()=>i.dijkstraAll),t.export(n,"findCycles",()=>d.findCycles),t.export(n,"floydWarshall",()=>c.floydWarshall),t.export(n,"isAcyclic",()=>u.isAcyclic),t.export(n,"postorder",()=>h.postorder),t.export(n,"preorder",()=>f.preorder),t.export(n,"prim",()=>l.prim),t.export(n,"tarjan",()=>p.tarjan),t.export(n,"topsort",()=>g.topsort);var s=e("./components.js"),a=e("./dijkstra.js"),i=e("./dijkstra-all.js"),d=e("./find-cycles.js"),c=e("./floyd-warshall.js"),u=e("./is-acyclic.js"),h=e("./postorder.js"),f=e("./preorder.js"),l=e("./prim.js"),p=e("./tarjan.js"),g=e("./topsort.js")},{"./components.js":"5k0A8","./dijkstra.js":"hQjpk","./dijkstra-all.js":"44OU9","./find-cycles.js":"jzdBq","./floyd-warshall.js":"4B5Kc","./is-acyclic.js":"a2q6P","./postorder.js":"2NZTW","./preorder.js":"kUjCq","./prim.js":"5TnwK","./tarjan.js":"Zez6P","./topsort.js":"jPX5R","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"5k0A8":[function(e,r,n,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(n),t.export(n,"components",()=>a);var s=e("lodash-es");function a(e){var r,n={},o=[];return s.each(e.nodes(),function(t){r=[],function o(t){s.has(n,t)||(n[t]=!0,r.push(t),s.each(e.successors(t),o),s.each(e.predecessors(t),o))}(t),r.length&&o.push(r)}),o}},{"lodash-es":"h4a9d","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],hQjpk:[function(e,r,n,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(n),t.export(n,"dijkstra",()=>d);var s=e("lodash-es"),a=e("../data/priority-queue.js"),i=s.constant(1);function d(e,r,n,o){return function(e,r,n,o){var t,s,i={},d=new a.PriorityQueue,c=function(e){var r=e.v!==t?e.v:e.w,o=i[r],a=n(e),c=s.distance+a;if(a<0)throw Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+a);c<o.distance&&(o.distance=c,o.predecessor=t,d.decrease(r,c))};for(e.nodes().forEach(function(e){var n=e===r?0:Number.POSITIVE_INFINITY;i[e]={distance:n},d.add(e,n)});d.size()>0&&(s=i[t=d.removeMin()]).distance!==Number.POSITIVE_INFINITY;)o(t).forEach(c);return i}(e,String(r),n||i,o||function(r){return e.outEdges(r)})}},{"lodash-es":"h4a9d","../data/priority-queue.js":"uWIb2","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],uWIb2:[function(e,r,n,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(n),t.export(n,"PriorityQueue",()=>a);var s=e("lodash-es");class a{constructor(){this._arr=[],this._keyIndices={}}size(){return this._arr.length}keys(){return this._arr.map(function(e){return e.key})}has(e){return s.has(this._keyIndices,e)}priority(e){var r=this._keyIndices[e];if(void 0!==r)return this._arr[r].priority}min(){if(0===this.size())throw Error("Queue underflow");return this._arr[0].key}add(e,r){var n=this._keyIndices;if(e=String(e),!s.has(n,e)){var o=this._arr,t=o.length;return n[e]=t,o.push({key:e,priority:r}),this._decrease(t),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key}decrease(e,r){var n=this._keyIndices[e];if(r>this._arr[n].priority)throw Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+r);this._arr[n].priority=r,this._decrease(n)}_heapify(e){var r=this._arr,n=2*e,o=n+1,t=e;n<r.length&&(t=r[n].priority<r[t].priority?n:t,o<r.length&&(t=r[o].priority<r[t].priority?o:t),t!==e&&(this._swap(e,t),this._heapify(t)))}_decrease(e){for(var r,n=this._arr,o=n[e].priority;0!==e&&!(n[r=e>>1].priority<o);)this._swap(e,r),e=r}_swap(e,r){var n=this._arr,o=this._keyIndices,t=n[e],s=n[r];n[e]=s,n[r]=t,o[s.key]=e,o[t.key]=r}}},{"lodash-es":"h4a9d","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"44OU9":[function(e,r,n,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(n),t.export(n,"dijkstraAll",()=>i);var s=e("lodash-es"),a=e("./dijkstra.js");function i(e,r,n){return s.transform(e.nodes(),function(o,t){o[t]=(0,a.dijkstra)(e,t,r,n)},{})}},{"lodash-es":"h4a9d","./dijkstra.js":"hQjpk","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],jzdBq:[function(e,r,n,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(n),t.export(n,"findCycles",()=>i);var s=e("lodash-es"),a=e("./tarjan.js");function i(e){return s.filter((0,a.tarjan)(e),function(r){return r.length>1||1===r.length&&e.hasEdge(r[0],r[0])})}},{"lodash-es":"h4a9d","./tarjan.js":"Zez6P","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],Zez6P:[function(e,r,n,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(n),t.export(n,"tarjan",()=>a);var s=e("lodash-es");function a(e){var r=0,n=[],o={},t=[];return e.nodes().forEach(function(a){s.has(o,a)||function a(i){var d=o[i]={onStack:!0,lowlink:r,index:r++};if(n.push(i),e.successors(i).forEach(function(e){s.has(o,e)?o[e].onStack&&(d.lowlink=Math.min(d.lowlink,o[e].index)):(a(e),d.lowlink=Math.min(d.lowlink,o[e].lowlink))}),d.lowlink===d.index){var c,u=[];do o[c=n.pop()].onStack=!1,u.push(c);while(i!==c)t.push(u)}}(a)}),t}},{"lodash-es":"h4a9d","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"4B5Kc":[function(e,r,n,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(n),t.export(n,"floydWarshall",()=>a);var s=e("lodash-es").constant(1);function a(e,r,n){var o,t,a,i;return o=r||s,t=n||function(r){return e.outEdges(r)},a={},(i=e.nodes()).forEach(function(e){a[e]={},a[e][e]={distance:0},i.forEach(function(r){e!==r&&(a[e][r]={distance:Number.POSITIVE_INFINITY})}),t(e).forEach(function(r){var n=r.v===e?r.w:r.v,t=o(r);a[e][n]={distance:t,predecessor:e}})}),i.forEach(function(e){var r=a[e];i.forEach(function(n){var o=a[n];i.forEach(function(n){var t=o[e],s=r[n],a=o[n],i=t.distance+s.distance;i<a.distance&&(a.distance=i,a.predecessor=s.predecessor)})})}),a}},{"lodash-es":"h4a9d","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],a2q6P:[function(e,r,n,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(n),t.export(n,"isAcyclic",()=>a);var s=e("./topsort.js");function a(e){try{(0,s.topsort)(e)}catch(e){if(e instanceof s.CycleException)return!1;throw e}return!0}},{"./topsort.js":"jPX5R","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],jPX5R:[function(e,r,n,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(n),t.export(n,"topsort",()=>a),t.export(n,"CycleException",()=>i);var s=e("lodash-es");function a(e){var r={},n={},o=[];if(s.each(e.sinks(),function t(a){if(s.has(n,a))throw new i;s.has(r,a)||(n[a]=!0,r[a]=!0,s.each(e.predecessors(a),t),delete n[a],o.push(a))}),s.size(r)!==e.nodeCount())throw new i;return o}function i(){}a.CycleException=i,i.prototype=Error()},{"lodash-es":"h4a9d","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"2NZTW":[function(e,r,n,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(n),t.export(n,"postorder",()=>a);var s=e("./dfs.js");function a(e,r){return(0,s.dfs)(e,r,"post")}},{"./dfs.js":"cchz1","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],cchz1:[function(e,r,n,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(n),t.export(n,"dfs",()=>a);var s=e("lodash-es");function a(e,r,n){s.isArray(r)||(r=[r]);var o=(e.isDirected()?e.successors:e.neighbors).bind(e),t=[],a={};return s.each(r,function(r){if(!e.hasNode(r))throw Error("Graph does not have node: "+r);(function e(r,n,o,t,a,i){!s.has(t,n)&&(t[n]=!0,o||i.push(n),s.each(a(n),function(n){e(r,n,o,t,a,i)}),o&&i.push(n))})(e,r,"post"===n,a,o,t)}),t}},{"lodash-es":"h4a9d","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],kUjCq:[function(e,r,n,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(n),t.export(n,"preorder",()=>a);var s=e("./dfs.js");function a(e,r){return(0,s.dfs)(e,r,"pre")}},{"./dfs.js":"cchz1","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"5TnwK":[function(e,r,n,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(n),t.export(n,"prim",()=>d);var s=e("lodash-es"),a=e("../data/priority-queue.js"),i=e("../graph.js");function d(e,r){var n,o=new i.Graph,t={},d=new a.PriorityQueue;function c(e){var o=e.v===n?e.w:e.v,s=d.priority(o);if(void 0!==s){var a=r(e);a<s&&(t[o]=n,d.decrease(o,a))}}if(0===e.nodeCount())return o;s.each(e.nodes(),function(e){d.add(e,Number.POSITIVE_INFINITY),o.setNode(e)}),d.decrease(e.nodes()[0],0);for(var u=!1;d.size()>0;){if(n=d.removeMin(),s.has(t,n))o.setEdge(n,t[n]);else if(u)throw Error("Input graph is not connected: "+e);else u=!0;e.nodeEdges(n).forEach(c)}return o}},{"lodash-es":"h4a9d","../data/priority-queue.js":"uWIb2","../graph.js":"84V0B","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],cCWnA:[function(e,r,n,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(n),t.export(n,"run",()=>i),t.export(n,"cleanup",()=>d);var s=e("lodash-es"),a=e("./util.js");function i(e){var r,n=a.addDummyNode(e,"root",{},"_root"),o=(r={},s.forEach(e.children(),function(n){!function n(o,t){var a=e.children(o);a&&a.length&&s.forEach(a,function(e){n(e,t+1)}),r[o]=t}(n,1)}),r),t=s.max(s.values(o))-1,i=2*t+1;e.graph().nestingRoot=n,s.forEach(e.edges(),function(r){e.edge(r).minlen*=i});var d=s.reduce(e.edges(),function(r,n){return r+e.edge(n).weight},0)+1;s.forEach(e.children(),function(r){(function e(r,n,o,t,i,d,c){var u=r.children(c);if(!u.length){c!==n&&r.setEdge(n,c,{weight:0,minlen:o});return}var h=a.addBorderNode(r,"_bt"),f=a.addBorderNode(r,"_bb"),l=r.node(c);r.setParent(h,c),l.borderTop=h,r.setParent(f,c),l.borderBottom=f,s.forEach(u,function(s){e(r,n,o,t,i,d,s);var a=r.node(s),u=a.borderTop?a.borderTop:s,l=a.borderBottom?a.borderBottom:s,p=a.borderTop?t:2*t,g=u!==l?1:i-d[c]+1;r.setEdge(h,u,{weight:p,minlen:g,nestingEdge:!0}),r.setEdge(l,f,{weight:p,minlen:g,nestingEdge:!0})}),r.parent(c)||r.setEdge(n,h,{weight:0,minlen:i+d[c]})})(e,n,i,d,t,o,r)}),e.graph().nodeRankFactor=i}function d(e){var r=e.graph();e.removeNode(r.nestingRoot),delete r.nestingRoot,s.forEach(e.edges(),function(r){e.edge(r).nestingEdge&&e.removeEdge(r)})}},{"lodash-es":"h4a9d","./util.js":"h7o6h","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],bIgS9:[function(e,r,n,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(n),t.export(n,"order",()=>l);var s=e("lodash-es"),a=e("../../graphlib/index.js"),i=e("../util.js"),d=e("./add-subgraph-constraints.js"),c=e("./build-layer-graph.js"),u=e("./cross-count.js"),h=e("./init-order.js"),f=e("./sort-subgraph.js");function l(e){var r=i.maxRank(e),n=p(e,s.range(1,r+1),"inEdges"),o=p(e,s.range(r-1,-1,-1),"outEdges"),t=(0,h.initOrder)(e);g(e,t);for(var c,l=Number.POSITIVE_INFINITY,m=0,v=0;v<4;++m,++v){(function(e,r){var n=new a.Graph;s.forEach(e,function(e){var o=e.graph().root,t=(0,f.sortSubgraph)(e,o,n,r);s.forEach(t.vs,function(r,n){e.node(r).order=n}),(0,d.addSubgraphConstraints)(e,n,t.vs)})})(m%2?n:o,m%4>=2),t=i.buildLayerMatrix(e);var j=(0,u.crossCount)(e,t);j<l&&(v=0,c=s.cloneDeep(t),l=j)}g(e,c)}function p(e,r,n){return s.map(r,function(r){return(0,c.buildLayerGraph)(e,r,n)})}function g(e,r){s.forEach(r,function(r){s.forEach(r,function(r,n){e.node(r).order=n})})}},{"lodash-es":"h4a9d","../../graphlib/index.js":"j6NXy","../util.js":"h7o6h","./add-subgraph-constraints.js":"fsBDe","./build-layer-graph.js":"lu08j","./cross-count.js":"3J4zt","./init-order.js":"6clIu","./sort-subgraph.js":"9FPWY","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],fsBDe:[function(e,r,n,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(n),t.export(n,"addSubgraphConstraints",()=>a);var s=e("lodash-es");function a(e,r,n){var o,t={};s.forEach(n,function(n){for(var s,a,i=e.parent(n);i;){if((s=e.parent(i))?(a=t[s],t[s]=i):(a=o,o=i),a&&a!==i){r.setEdge(a,i);return}i=s}})}},{"lodash-es":"h4a9d","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],lu08j:[function(e,r,n,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(n),t.export(n,"buildLayerGraph",()=>i);var s=e("lodash-es"),a=e("../../graphlib/index.js");function i(e,r,n){var o=function(e){for(var r;e.hasNode(r=s.uniqueId("_root")););return r}(e),t=new(0,a.Graph)({compound:!0}).setGraph({root:o}).setDefaultNodeLabel(function(r){return e.node(r)});return s.forEach(e.nodes(),function(a){var i=e.node(a),d=e.parent(a);(i.rank===r||i.minRank<=r&&r<=i.maxRank)&&(t.setNode(a),t.setParent(a,d||o),s.forEach(e[n](a),function(r){var n=r.v===a?r.w:r.v,o=t.edge(n,a),i=s.isUndefined(o)?0:o.weight;t.setEdge(n,a,{weight:e.edge(r).weight+i})}),s.has(i,"minRank")&&t.setNode(a,{borderLeft:i.borderLeft[r],borderRight:i.borderRight[r]}))}),t}},{"lodash-es":"h4a9d","../../graphlib/index.js":"j6NXy","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"3J4zt":[function(e,r,n,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(n),t.export(n,"crossCount",()=>a);var s=e("lodash-es");function a(e,r){for(var n=0,o=1;o<r.length;++o)n+=function(e,r,n){for(var o=s.zipObject(n,s.map(n,function(e,r){return r})),t=s.flatten(s.map(r,function(r){return s.sortBy(s.map(e.outEdges(r),function(r){return{pos:o[r.w],weight:e.edge(r).weight}}),"pos")})),a=1;a<n.length;)a<<=1;var i=2*a-1;a-=1;var d=s.map(Array(i),function(){return 0}),c=0;return s.forEach(t.forEach(function(e){var r=e.pos+a;d[r]+=e.weight;for(var n=0;r>0;)r%2&&(n+=d[r+1]),r=r-1>>1,d[r]+=e.weight;c+=e.weight*n})),c}(e,r[o-1],r[o]);return n}},{"lodash-es":"h4a9d","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"6clIu":[function(e,r,n,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(n),t.export(n,"initOrder",()=>a);var s=e("lodash-es");function a(e){var r={},n=s.filter(e.nodes(),function(r){return!e.children(r).length}),o=s.max(s.map(n,function(r){return e.node(r).rank})),t=s.map(s.range(o+1),function(){return[]}),a=s.sortBy(n,function(r){return e.node(r).rank});return s.forEach(a,function n(o){s.has(r,o)||(r[o]=!0,t[e.node(o).rank].push(o),s.forEach(e.successors(o),n))}),t}},{"lodash-es":"h4a9d","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"9FPWY":[function(e,r,n,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(n),t.export(n,"sortSubgraph",()=>function e(r,n,o,t){var c=r.children(n),u=r.node(n),h=u?u.borderLeft:void 0,f=u?u.borderRight:void 0,l={};h&&(c=s.filter(c,function(e){return e!==h&&e!==f}));var p=(0,a.barycenter)(r,c);s.forEach(p,function(n){if(r.children(n.v).length){var a=e(r,n.v,o,t);l[n.v]=a,s.has(a,"barycenter")&&(s.isUndefined(n.barycenter)?(n.barycenter=a.barycenter,n.weight=a.weight):(n.barycenter=(n.barycenter*n.weight+a.barycenter*a.weight)/(n.weight+a.weight),n.weight+=a.weight))}});var g=(0,i.resolveConflicts)(p,o);s.forEach(g,function(e){e.vs=s.flatten(e.vs.map(function(e){return l[e]?l[e].vs:e}))});var m=(0,d.sort)(g,t);if(h&&(m.vs=s.flatten([h,m.vs,f]),r.predecessors(h).length)){var v=r.node(r.predecessors(h)[0]),j=r.node(r.predecessors(f)[0]);s.has(m,"barycenter")||(m.barycenter=0,m.weight=0),m.barycenter=(m.barycenter*m.weight+v.order+j.order)/(m.weight+2),m.weight+=2}return m});var s=e("lodash-es"),a=e("./barycenter.js"),i=e("./resolve-conflicts.js"),d=e("./sort.js")},{"lodash-es":"h4a9d","./barycenter.js":"h3VKZ","./resolve-conflicts.js":"iOBiO","./sort.js":"a4S3E","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],h3VKZ:[function(e,r,n,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(n),t.export(n,"barycenter",()=>a);var s=e("lodash-es");function a(e,r){return s.map(r,function(r){var n=e.inEdges(r);if(!n.length)return{v:r};var o=s.reduce(n,function(r,n){var o=e.edge(n),t=e.node(n.v);return{sum:r.sum+o.weight*t.order,weight:r.weight+o.weight}},{sum:0,weight:0});return{v:r,barycenter:o.sum/o.weight,weight:o.weight}})}},{"lodash-es":"h4a9d","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],iOBiO:[function(e,r,n,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(n),t.export(n,"resolveConflicts",()=>a);var s=e("lodash-es");function a(e,r){var n={};return s.forEach(e,function(e,r){var o=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:r};s.isUndefined(e.barycenter)||(o.barycenter=e.barycenter,o.weight=e.weight)}),s.forEach(r.edges(),function(e){var r=n[e.v],o=n[e.w];s.isUndefined(r)||s.isUndefined(o)||(o.indegree++,r.out.push(n[e.w]))}),function(e){for(var r=[];e.length;){var n=e.pop();r.push(n),s.forEach(n.in.reverse(),function(e){return function(r){!r.merged&&(s.isUndefined(r.barycenter)||s.isUndefined(e.barycenter)||r.barycenter>=e.barycenter)&&function(e,r){var n=0,o=0;e.weight&&(n+=e.barycenter*e.weight,o+=e.weight),r.weight&&(n+=r.barycenter*r.weight,o+=r.weight),e.vs=r.vs.concat(e.vs),e.barycenter=n/o,e.weight=o,e.i=Math.min(r.i,e.i),r.merged=!0}(e,r)}}(n)),s.forEach(n.out,function(r){return function(n){n.in.push(r),0==--n.indegree&&e.push(n)}}(n))}return s.map(s.filter(r,function(e){return!e.merged}),function(e){return s.pick(e,["vs","i","barycenter","weight"])})}(s.filter(n,function(e){return!e.indegree}))}},{"lodash-es":"h4a9d","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],a4S3E:[function(e,r,n,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(n),t.export(n,"sort",()=>i);var s=e("lodash-es"),a=e("../util.js");function i(e,r){var n,o=a.partition(e,function(e){return s.has(e,"barycenter")}),t=o.lhs,i=s.sortBy(o.rhs,function(e){return-e.i}),c=[],u=0,h=0,f=0;t.sort((n=!!r,function(e,r){return e.barycenter<r.barycenter?-1:e.barycenter>r.barycenter?1:n?r.i-e.i:e.i-r.i})),f=d(c,i,f),s.forEach(t,function(e){f+=e.vs.length,c.push(e.vs),u+=e.barycenter*e.weight,h+=e.weight,f=d(c,i,f)});var l={vs:s.flatten(c)};return h&&(l.barycenter=u/h,l.weight=h),l}function d(e,r,n){for(var o;r.length&&(o=s.last(r)).i<=n;)r.pop(),e.push(o.vs),n++;return n}},{"lodash-es":"h4a9d","../util.js":"h7o6h","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"6Jejx":[function(e,r,n,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(n),t.export(n,"parentDummyChains",()=>a);var s=e("lodash-es");function a(e){var r,n,o=(r={},n=0,s.forEach(e.children(),function o(t){var a=n;s.forEach(e.children(t),o),r[t]={low:a,lim:n++}}),r);s.forEach(e.graph().dummyChains,function(r){for(var n=e.node(r),t=n.edgeObj,s=function(e,r,n,o){var t,s,a=[],i=[],d=Math.min(r[n].low,r[o].low),c=Math.max(r[n].lim,r[o].lim);t=n;do a.push(t=e.parent(t));while(t&&(r[t].low>d||c>r[t].lim))for(s=t,t=o;(t=e.parent(t))!==s;)i.push(t);return{path:a.concat(i.reverse()),lca:s}}(e,o,t.v,t.w),a=s.path,i=s.lca,d=0,c=a[0],u=!0;r!==t.w;){if(n=e.node(r),u){for(;(c=a[d])!==i&&e.node(c).maxRank<n.rank;)d++;c===i&&(u=!1)}if(!u){for(;d<a.length-1&&e.node(c=a[d+1]).minRank<=n.rank;)d++;c=a[d]}e.setParent(r,c),r=e.successors(r)[0]}})}},{"lodash-es":"h4a9d","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],lUl3t:[function(e,r,n,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(n),t.export(n,"position",()=>d);var s=e("lodash-es"),a=e("../util.js"),i=e("./bk.js");function d(e){var r,n,o,t;r=e=a.asNonCompoundGraph(e),n=a.buildLayerMatrix(r),o=r.graph().ranksep,t=0,s.forEach(n,function(e){var n=s.max(s.map(e,function(e){return r.node(e).height}));s.forEach(e,function(e){r.node(e).y=t+n/2}),t+=n+o}),s.forOwn((0,i.positionX)(e),function(r,n){e.node(n).x=r})}},{"lodash-es":"h4a9d","../util.js":"h7o6h","./bk.js":"4NOzx","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"4NOzx":[function(e,r,n,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(n),t.export(n,"positionX",()=>v),t.export(n,"findType1Conflicts",()=>d),t.export(n,"findType2Conflicts",()=>c),t.export(n,"addConflict",()=>u),t.export(n,"hasConflict",()=>h),t.export(n,"verticalAlignment",()=>f),t.export(n,"horizontalCompaction",()=>l),t.export(n,"alignCoordinates",()=>g),t.export(n,"findSmallestWidthAlignment",()=>p),t.export(n,"balance",()=>m);var s=e("lodash-es"),a=e("../../graphlib/index.js"),i=e("../util.js");function d(e,r){var n={};return s.reduce(r,function(r,o){var t=0,a=0,i=r.length,d=s.last(o);return s.forEach(o,function(r,c){var h=function(e,r){if(e.node(r).dummy)return s.find(e.predecessors(r),function(r){return e.node(r).dummy})}(e,r),f=h?e.node(h).order:i;(h||r===d)&&(s.forEach(o.slice(a,c+1),function(r){s.forEach(e.predecessors(r),function(o){var s=e.node(o),a=s.order;(a<t||f<a)&&!(s.dummy&&e.node(r).dummy)&&u(n,o,r)})}),a=c+1,t=f)}),o}),n}function c(e,r){var n={};function o(r,o,t,a,i){var d;s.forEach(s.range(o,t),function(o){d=r[o],e.node(d).dummy&&s.forEach(e.predecessors(d),function(r){var o=e.node(r);o.dummy&&(o.order<a||o.order>i)&&u(n,r,d)})})}return s.reduce(r,function(r,n){var t,a=-1,i=0;return s.forEach(n,function(s,d){if("border"===e.node(s).dummy){var c=e.predecessors(s);c.length&&(t=e.node(c[0]).order,o(n,i,d,a,t),i=d,a=t)}o(n,i,n.length,t,r.length)}),n}),n}function u(e,r,n){if(r>n){var o=r;r=n,n=o}var t=e[r];t||(e[r]=t={}),t[n]=!0}function h(e,r,n){if(r>n){var o=r;r=n,n=o}return s.has(e[r],n)}function f(e,r,n,o){var t={},a={},i={};return s.forEach(r,function(e){s.forEach(e,function(e,r){t[e]=e,a[e]=e,i[e]=r})}),s.forEach(r,function(e){var r=-1;s.forEach(e,function(e){var d=o(e);if(d.length)for(var c=((d=s.sortBy(d,function(e){return i[e]})).length-1)/2,u=Math.floor(c),f=Math.ceil(c);u<=f;++u){var l=d[u];a[e]===e&&r<i[l]&&!h(n,e,l)&&(a[l]=e,a[e]=t[e]=t[l],r=i[l])}})}),{root:t,align:a}}function l(e,r,n,o,t){var i,d,c,u,h,f={},l=(c=new a.Graph,i=(u=e.graph()).nodesep,d=u.edgesep,h=function(e,r,n){var o,a,c=e.node(r),u=e.node(n);if(o=0+c.width/2,s.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":a=-c.width/2;break;case"r":a=c.width/2}if(a&&(o+=t?a:-a),a=0,o+=(c.dummy?d:i)/2,o+=(u.dummy?d:i)/2,o+=u.width/2,s.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":a=u.width/2;break;case"r":a=-u.width/2}return a&&(o+=t?a:-a),a=0,o},s.forEach(r,function(r){var o;s.forEach(r,function(r){var t=n[r];if(c.setNode(t),o){var s=n[o],a=c.edge(s,t);c.setEdge(s,t,Math.max(h(e,r,o),a||0))}o=r})}),c),p=t?"borderLeft":"borderRight";function g(e,r){for(var n=l.nodes(),o=n.pop(),t={};o;)t[o]?e(o):(t[o]=!0,n.push(o),n=n.concat(r(o))),o=n.pop()}return g(function(e){f[e]=l.inEdges(e).reduce(function(e,r){return Math.max(e,f[r.v]+l.edge(r))},0)},l.predecessors.bind(l)),g(function(r){var n=l.outEdges(r).reduce(function(e,r){return Math.min(e,f[r.w]-l.edge(r))},Number.POSITIVE_INFINITY),o=e.node(r);n!==Number.POSITIVE_INFINITY&&o.borderType!==p&&(f[r]=Math.max(f[r],n))},l.successors.bind(l)),s.forEach(o,function(e){f[e]=f[n[e]]}),f}function p(e,r){return s.minBy(s.values(r),function(r){var n=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return s.forIn(r,function(r,t){var s=e.node(t).width/2;n=Math.max(r+s,n),o=Math.min(r-s,o)}),n-o})}function g(e,r){var n=s.values(r),o=s.min(n),t=s.max(n);s.forEach(["u","d"],function(n){s.forEach(["l","r"],function(a){var i,d=n+a,c=e[d];if(c!==r){var u=s.values(c);(i="l"===a?o-s.min(u):t-s.max(u))&&(e[d]=s.mapValues(c,function(e){return e+i}))}})})}function m(e,r){return s.mapValues(e.ul,function(n,o){if(r)return e[r.toLowerCase()][o];var t=s.sortBy(s.map(e,o));return(t[1]+t[2])/2})}function v(e){var r,n=i.buildLayerMatrix(e),o=s.merge(d(e,n),c(e,n)),t={};s.forEach(["u","d"],function(a){r="u"===a?n:s.values(n).reverse(),s.forEach(["l","r"],function(n){"r"===n&&(r=s.map(r,function(e){return s.values(e).reverse()}));var i=("u"===a?e.predecessors:e.successors).bind(e),d=f(e,r,o,i),c=l(e,r,d.root,d.align,"r"===n);"r"===n&&(c=s.mapValues(c,function(e){return-e})),t[a+n]=c})});var a=p(e,t);return g(t,a),m(t,e.graph().align)}},{"lodash-es":"h4a9d","../../graphlib/index.js":"j6NXy","../util.js":"h7o6h","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}]},[],0,"parcelRequire94c2");
//# sourceMappingURL=flowDiagram-66a62f08.5151a16b.js.map
